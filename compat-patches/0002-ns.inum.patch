From: Sven Eckelmann <sven@narfation.org>
Date: Sat, 12 Mar 2016 00:24:58 +0100
Subject: [PATCH] ns.inum
---
 net/batman-adv/debugfs.c | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/net/batman-adv/debugfs.c b/net/batman-adv/debugfs.c
index cc583e6..59616a6 100644
--- a/net/batman-adv/debugfs.c
+++ b/net/batman-adv/debugfs.c
@@ -78,7 +78,13 @@ static DEFINE_MUTEX(batadv_debugfs_ns_mutex);
  */
 static unsigned int batadv_debugfs_ns_id(const struct net *net)
 {
+#if LINUX_VERSION_CODE < KERNEL_VERSION(3, 8, 0)
+	return 0; /* ???? */
+#elif LINUX_VERSION_CODE < KERNEL_VERSION(3, 19, 0)
+	return net->proc_inum;
+#else
 	return net->ns.inum;
+#endif
 }
 
 static struct dentry *batadv_debugfs_ns_get(struct net *net)
